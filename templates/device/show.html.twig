{% extends 'base.html.twig' %}

{% block title %}{{ parent() }} | Appareil fiche{% endblock %}
{% block description %}{{ parent() }} | Appareil fiche{% endblock %}
{% block keywords %}{{ parent() }} | Appareil fiche{% endblock %}

{% block body %}
<h2>{{ device.title|capitalize }}</h2>

<a class="btn btn-outline-dark" href="{{ path('app_device_index') }}">Gestion des appareils</a>
<a class="btn btn-outline-secondary" href="{{ path('app_device_stock_add_history',{'id':device.id}) }}">Afficher l'historique d'ajout du stock</a>
<a class="btn btn-outline-warning" href="{{ path('app_device_edit', {'id': device.id}) }}">Modifier l'appareil</a>

<table class="table table-striped table-hover table-bordered text-center mt-3">
    <tr>
        <th class="w-25">ID</th>
        <td class="w-75">{{ device.id }}</td>
    </tr>
    <tr>
        <th class="w-25">Titre</th>
        <td class="w-75">{{ device.title|capitalize }}</td>
    </tr>
    <tr>
        <th class="w-25">Prix</th>
        <td class="w-75">{{ device.price }}€</td>
    </tr>
    <tr>
        <th class="w-25">Description</th>
        <td class="w-75">
            {% if device.description %}
                {{ device.description }}
            {% else %}
                <span class="fst-italic text-danger">N.R</span>
            {% endif %}
        </td>
    </tr>

    <tr>
        <th class="w-25">Catégorie</th>
        <td class="w-75">
            {% if device.category %}
                <a class="text-decoration-none text-dark" href="{{ path('app_category_show', {'id': device.category.id} ) }}">
                    {{ device.category.name }}
                </a>
            {% else %}
                <span class="fst-italic text-danger">N.R</span>
            {% endif %}
        </td>
    </tr>

    <tr>
        <th class="w-25">Marque</th>
        <td class="w-75">
            {% if device.brand %}
                <a class="text-decoration-none text-dark" href="{{ path('app_brand_show', {'id': device.brand.id} ) }}">
                    {{ device.brand.title }}
                </a>
            {% else %}
                <span class="fst-italic text-danger">N.R</span>
            {% endif %}
        </td>
    </tr>

    <tr>
        <th class="w-25">Type de peau</th>
        <td class="w-75">
            {% if device.skinType is not empty %}
                {% for type in device.skinType %}
                    <a class="text-decoration-none text-dark" href="{{ path('app_skin_type_show', {'id': type.id}) }}">
                        {{ type.title }}
                    </a>{% if not loop.last %}, {% endif %}
                {% endfor %}
            {% else %}
                <span class="fst-italic text-danger">N.R</span>
            {% endif %}
        </td>
    </tr>

    <tr>
        <th class="w-25">Composants/Matériaux</th>
        <td class="w-75 text-start">
            {% if device.ingredients %}
                {{ device.ingredients|nl2br }}
            {% else %}
                <span class="fst-italic text-danger">N.R</span>
            {% endif %}
        </td>
    </tr>

    <tr>
        <th class="w-25">Mode d'emploi</th>
        <td class="w-75 text-start">
            {% if device.usageAdvice %}
                {{ device.usageAdvice|nl2br }}
            {% else %}
                <span class="fst-italic text-danger">N.R</span>
            {% endif %}
        </td>
    </tr>

    <tr>
        <th class="w-25">Stock</th>
        <td class="w-75">
            {% if device.stock > 0 %}
                <span class="badge bg-success">{{ device.stock }} unités</span>
            {% else %}
                <span class="badge bg-danger">Stock épuisé</span>
            {% endif %}
        </td>
    </tr>

    <tr>
        <th class="w-25">Images</th>
        <td class="w-75 text-start">
            {% if deviceImages is defined and deviceImages is not empty %}
                {% for imageNumber in 1..4 %}
                    {% if deviceImages[imageNumber] is defined %}
                        <div class="mb-1">
                            <strong>Image {{ imageNumber }} :</strong>
                            <span class="fst-italic fs-6">{{ deviceImages[imageNumber] }}</span>
                        </div>
                    {% endif %}
                {% endfor %}
            {% else %}
                <span class="fst-italic text-danger">Aucune image</span>
            {% endif %}
        </td>
    </tr>
</table>

{% endblock %}